---
title: 'DecisÃµes de Arquitetura do Meu Site - ADRs'
description:
  'Documentando as decisÃµes arquiteturais por trÃ¡s do gabrielduete.com usando
  Architecture Decision Records (ADRs).'
date: '08-10-2025'
category: 'Engenharia'
tags: ['architecture', 'adr', 'nextjs', 'react', 'typescript']
---

Fala, pessoal! Tudo certo?

Criei esse post para documentar as principais decisÃµes arquiteturais por trÃ¡s do
desenvolvimento do meu blog ([gabrielduete.com](gabrielduete.com)) usando
[Architecture Decision Records](https://github.com/joelparkerhenderson/architecture-decision-record)
(ADRs). Cada ADR segue o formato padrÃ£o com contexto, decisÃ£o e consequÃªncias.

Quis manter o foco apenas no custo da hospedagem, entÃ£o priorizei soluÃ§Ãµes
gratuitas, mas que ainda atendessem bem Ã s necessidades do projeto (nÃ£o as
subestime, hehe).

# ADR-001: Escolha do Next.js como Framework Principal

## Contexto

Precisava escolher um framework para desenvolver meu site pessoal que
suportasse:

- RenderizaÃ§Ã£o do lado do servidor (SSR) para SEO
- GeraÃ§Ã£o estÃ¡tica (SSG) para performance
- CriaÃ§Ã£o de pÃ¡ginas dinÃ¢micas
- Roteamento baseado em arquivos
- Suporte nativo a TypeScript
- Boa experiÃªncia de desenvolvimento
- Deploy simples

## DecisÃ£o

Escolhi o **Next.js v15+** como framework principal, utilizando:

- App Router (nova arquitetura de roteamento)
- Server Components por padrÃ£o
- Client Components quando necessÃ¡rio
- TypeScript nativo
- API Routes para funcionalidades server-side
- Roteamento DinÃ¢mico para gerar pÃ¡ginas dinÃ¢micas

## Alternativa Considerada

- **Nuxt.js**: Boa opÃ§Ã£o, mas preferi o ecossistema React

---

# ADR-002: TailwindCSS para EstilizaÃ§Ã£o

## Contexto

Precisava de uma soluÃ§Ã£o de estilizaÃ§Ã£o que:

- Fosse consistente e escalÃ¡vel
- Reduzisse CSS customizado
- Tivesse boa performance
- Fosse fÃ¡cil de manter
- Suportasse design system

## DecisÃ£o

Implementei **TailwindCSS v4+** como soluÃ§Ã£o de estilizaÃ§Ã£o, utilizando:

- Design tokens consistentes
- Purge automÃ¡tico de CSS nÃ£o utilizado
- Suporte a dark mode

## Alternativas Consideradas

- **Styled Components**: Gosto bastante de CSS-in-JS, mas hoje o styled
  components estÃ¡
  [descontinuado](https://opencollective.com/styled-components/updates/thank-you).
  Melhor nÃ£o correr o risco. :p

---

# ADR-003: Next-intl para InternacionalizaÃ§Ã£o

## Contexto

O site precisava suportar os idiomas portuguÃªs e inglÃªs:

- PortuguÃªs (Brasil) como idioma principal
- InglÃªs como idioma secundÃ¡rio
- SEO otimizado para ambos os idiomas
- Roteamento baseado em locale
- ManutenÃ§Ã£o simples de traduÃ§Ãµes

## DecisÃ£o

Implementei **next-intl 4.1.0** para internacionalizaÃ§Ã£o, utilizando:

- Roteamento baseado em locale (`/en/`, `/pt-br/`)
- Arquivos JSON para traduÃ§Ãµes
- Server-side rendering de conteÃºdo localizado
- DetecÃ§Ã£o automÃ¡tica de idioma do usuÃ¡rio
- Fallback para idioma padrÃ£o
- SEO otimizado para mÃºltiplos idiomas
- Performance otimizada

## Alternativas Consideradas

- **next-i18next**: Boa opÃ§Ã£o, mas menos integraÃ§Ã£o com App Router
- **Implementar manualmente**: Muito trabalho e propenso a erros

---

# ADR-004: ESLint + Prettier para Qualidade de CÃ³digo

## Contexto

Necessitava de ferramentas para garantir:

- ConsistÃªncia de cÃ³digo
- DetecÃ§Ã£o de erros e problemas
- FormataÃ§Ã£o automÃ¡tica
- Boas prÃ¡ticas de desenvolvimento
- IntegraÃ§Ã£o com editor e CI/CD

## DecisÃ£o

Implementei:

- **ESLint 9.21.0** para anÃ¡lise estÃ¡tica
- **Prettier 3.5.1** para formataÃ§Ã£o
- ConfiguraÃ§Ã£o integrada com Next.js
- IntegraÃ§Ã£o com GitHub Actions

## Alternativas Consideradas

- **Biome**: Mais rÃ¡pido, mas menos maduro. JÃ¡ fiz uns testes nele, mas por ser
  algo novo ainda nÃ£o usei tempo suficiente pra garantir o suporte da tecnologia
  em um projeto mais duradouro como um blog

## Mais sobre

Se tiver interesse, tenho esse
[gist](https://gist.github.com/gabrielduete/e0d047fcd20bb154a7904267bee50647)
aqui no github onde deixo salvo as configuraÃ§Ãµes que mais uso no Prettier.

---

# ADR-005: Jest para Testes

## Contexto

Precisava de uma estratÃ©gia de testes que:

- Funcionasse bem com Next.js e React
- Suportasse TypeScript
- Tivesse boa integraÃ§Ã£o com CI/CD
- Gerasse relatÃ³rios de cobertura
- Fosse fÃ¡cil de configurar e manter

## DecisÃ£o

Implementei **Jest 30.0.2** como framework de testes, utilizando:

- Testing Library para testes de componentes
- ConfiguraÃ§Ã£o customizada para Next.js
- Cobertura de cÃ³digo automÃ¡tica e monitorada
- Mocks para dependÃªncias externas
- IntegraÃ§Ã£o com GitHub Actions

---

# ADR-006: Codecov para Cobertura de Testes

## Contexto

Precisava de uma ferramenta para:

- Monitorar cobertura de cÃ³digo dos testes
- Garantir que novos commits nÃ£o reduzam cobertura
- Visualizar relatÃ³rios de cobertura
- Integrar com GitHub Actions
- Ser gratuita para projetos open source

## DecisÃ£o

Implementei **Codecov** para monitoramento de cobertura, utilizando:

- Upload automÃ¡tico de relatÃ³rios de cobertura
- IntegraÃ§Ã£o com GitHub Actions
- Badges de cobertura no README
- Alertas quando cobertura diminui
- RelatÃ³rios visuais detalhados

Dashboard:
![Dashboard do Codecov mostrando relatÃ³rios de cobertura de cÃ³digo](/assets/images/blog/architecture-decisions/codecov-1.png)

Arquivo que exibe o coverage localmente:
![Dashboard do Coverage mostrando relatÃ³rios de cobertura de cÃ³digo](/assets/images/blog/architecture-decisions/codecov-2.png)

## Alternativas Consideradas

- **SonarQube**: Muito bom tambÃ©m, mas resolvi dar uma chance ao Codecov, jÃ¡ uso
  o SonarQube hÃ¡ muito tempo e queria testar algo diferente.
- **Manual tracking**: Trabalhoso e propenso a erros
- **Sem monitoramento**: Risco de cobertura baixa

---

# ADR-007: Sentry para Monitoramento de Erros

## Contexto

Precisava de monitoramento para:

- Detectar erros em produÃ§Ã£o
- Alertas automÃ¡ticos
- IntegraÃ§Ã£o com workflow de desenvolvimento

## DecisÃ£o

Implementei **Sentry** para monitoramento, utilizando:

- Error tracking automÃ¡tico
- Performance monitoring
- User feedback
- Release tracking
- IntegraÃ§Ã£o com GitHub

Dashboard exibindo logs:
![Dashboard do Sentry mostrando monitoramento de erros e performance](/assets/images/blog/architecture-decisions/sentry.png)

---

# ADR-008: GitHub Actions para CI/CD

## Contexto

Precisava de automaÃ§Ã£o para:

- Executar testes automaticamente
- Deploy automÃ¡tico
- VerificaÃ§Ã£o de qualidade de cÃ³digo
- IntegraÃ§Ã£o com ferramentas externas
- Workflow consistente

## DecisÃ£o

Implementei **GitHub Actions** para CI/CD, utilizando:

- Workflow para testes e build
- IntegraÃ§Ã£o com Codecov
- Deploy automÃ¡tico para Vercel
- NotificaÃ§Ãµes de status

---

# ADR-009: Microsoft Clarity para Analytics

## Contexto

Precisava de uma ferramenta de analytics que:

- Fornecesse insights sobre comportamento do usuÃ¡rio
- Mostrasse pontos quentes (heatmaps) do site
- Rastreasse cliques e interaÃ§Ãµes
- Fosse gratuita para uso pessoal
- Integrasse bem com Next.js
- Respeitasse privacidade dos usuÃ¡rios

## DecisÃ£o

Implementei **Microsoft Clarity** para analytics, utilizando:

- Heatmaps para visualizar Ã¡reas mais clicadas
- Session recordings para entender navegaÃ§Ã£o
- MÃ©tricas de performance e engajamento
- IntegraÃ§Ã£o via script no Next.js
- Dashboard para anÃ¡lise de dados

## Mais sobre

VÃ­deo mostrando a aba de gravaÃ§Ãµes, Ã© possÃ­vel ver com detalhes a interaÃ§Ã£o de
cada sessÃ£o:

(uma parada legal Ã© o som do click pra quando o usuÃ¡rio clicka ahuahu)

<video controls width='100%'>
  <source
    src='/assets/images/blog/architecture-decisions/clarity-1.mp4'
    type='video/mp4'
  />
  Seu navegador nÃ£o suporta vÃ­deos HTML5.
</video>

<br />
Dashboard mostrando heatmaps e mÃ©tricas: ![Dashboard do Microsoft Clarity
mostrando heatmaps e
mÃ©tricas](/assets/images/blog/architecture-decisions/clarity-2.png)

Dashboard mostrando um mapa de calor da home:
![Mapa de calor do Microsoft Clarity mostrando Ã¡reas mais clicadas](/assets/images/blog/architecture-decisions/clarity-3.png)

## Alternativas Consideradas

- **Google Analytics**: Mais completo, mas complexo demais para blog pessoal
- **Hotjar**: Pensei em usar o Hotjar no comeÃ§o, mas vÃ¡rios recursos legais sÃ£o
  pagos. No Clarity consegui praticamente as mesmas coisas de forma gratuita.

---

# ADR-010: Vercel para Deploy e Hosting

## Contexto

Precisava de uma plataforma de deploy que:

- Integrasse com Next.js
- Suportasse SSR e SSG
- Tivesse CDN global
- Oferecesse deploy automÃ¡tico
- Tivesse boa performance e confiabilidade

## DecisÃ£o

Escolhi **Vercel** como plataforma de hosting, utilizando:

- Deploy automÃ¡tico via GitHub
- CDN global da Edge Network
- Preview deployments para PRs (Isso ajudou demais!)
- DomÃ­nio customizado

---

# ADR-011: GitHub Projects para Gerenciamento de Tarefas

## Contexto

Precisava de uma ferramenta para:

- Organizar tarefas do projeto
- Visualizar progresso de forma clara
- Integrar com issues e PRs do GitHub
- Ser gratuita e simples de usar
- Permitir colaboraÃ§Ã£o e acompanhamento

## DecisÃ£o

Implementei **GitHub Projects** para gerenciamento de tarefas, utilizando:

- Board Kanban para visualizar fluxo de trabalho
- Colunas: Backlog, Ready, In Progress, In Review, Done
- IntegraÃ§Ã£o nativa com issues e pull requests
- Estimativas e mÃ©tricas de progresso

## Alternativas Consideradas

- **Trello**: Boa opÃ§Ã£o, mas sem integraÃ§Ã£o nativa com GitHub
- **Notion**: Boa para documentaÃ§Ã£o, mas menos focado em tarefas

## Mais sobre

Gosto demais de usar o GitHub Projects nos projetos, ajuda a manter o foco e
organizar as tarefas. A integraÃ§Ã£o com issues Ã© muito boa, quando crio uma
issue, ela jÃ¡ aparece no board automaticamente, posso referÃªnciar a PR com a
issue, que esta linkada na task, entÃ£o ao mesclar a PR, a task Ã© automaticamente
movida para Done.

TambÃ©m Ã© muito bom pensando no lado open source, porque vocÃª pode deixar o
project pÃºblico e as pessoas verem o andamento das tasks, atribuiÃ§Ãµes,
prioridades, etc...

![Board do GitHub Projects mostrando o fluxo de trabalho Kanban](/assets/images/blog/architecture-decisions/projects.png)

---

# ADR-012: I.A: GitHub Copilot + Cursor

## Contexto

Precisava de ferramentas para:

- Acelerar o desenvolvimento
- Gerar descriÃ§Ãµes de PRs automaticamente
- Revisar cÃ³digo e sugerir melhorias
- Reduzir tempo em tarefas repetitivas
- Manter qualidade do cÃ³digo

## DecisÃ£o

Implementei **GitHub Copilot** e **Cursor** para desenvolvimento, utilizando:

- **GitHub Copilot**: Para geraÃ§Ã£o de descriÃ§Ãµes de PRs e revisÃµes
- **Cursor**: IDE com IA integrada para desenvolvimento mais eficiente
- IntegraÃ§Ã£o com o workflow de desenvolvimento
- SugestÃµes contextuais baseadas no cÃ³digo existente
- AutomaÃ§Ã£o de tarefas repetitivas

## Mais sobre

O GitHub Copilot me ajudou demais, especialmente para gerar descriÃ§Ãµes de PRs e
revisar as PR's. Ã‰ bem legal como ele entende o contexto e faz sugestÃµes
relevantes, quebra um galho. especialmente Quando deixamos algo pequeno passar,
como uma falha na nomeaÃ§Ã£o de uma funÃ§Ã£o.

No final do desenvolvimento, a empresa onde trabalho liberou o Cursor, entÃ£o
aproveitei para usar tambÃ©m. A experiÃªncia Ã© muito boa! O Cursor tem IA
integrada que funciona muito bem com um projeto Next.js.

Exemplo de uma sugestÃ£o do Copilot em uma PR:
![GitHub Copilot sugerindo melhorias em uma PR](/assets/images/blog/architecture-decisions/copilot.png)

---

# ADR-013: Estrutura de Pastas do Projeto

## Contexto

Precisava organizar o cÃ³digo de forma que:

- Fosse fÃ¡cil de navegar e entender
- Seguisse as convenÃ§Ãµes do Next.js
- Separasse responsabilidades claramente

## DecisÃ£o

Implementei uma estrutura baseada no App Router do Next.js com organizaÃ§Ã£o por
features:

```
â”£ ğŸ“‚ src
â”ƒ â”£ ğŸ“‚ app
â”ƒ â”ƒ â”£ ğŸ“‚ [locale]
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ blog
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ [slug]
â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“œ page.jsx
â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“œ page.spec.jsx
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ helpers
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ views
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“œ index.data.ts
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“œ page.spec.tsx
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“œ page.tsx
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ career
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ components
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ Footer
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“‚ Header
â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“‚ components
â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ MenuDesktop
â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ MenuMobile
â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ Navigator
â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ ToggleLang
â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ ToggleTheme
â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“œ index.spec.tsx
â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“œ index.tsx
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ KeyboardEasterEgg
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ lab
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œ layout.tsx
â”ƒ â”ƒ â”ƒ â”— ğŸ“œ not-found.tsx
â”ƒ â”£ ğŸ“‚ components
â”ƒ â”£ ğŸ“‚ content
â”ƒ â”ƒ â”£ ğŸ“‚ blog
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚ en
â”ƒ â”ƒ â”ƒ â”— ğŸ“‚ pt-br
â”ƒ â”£ ğŸ“‚ contexts
â”ƒ â”£ ğŸ“‚ i18n
â”ƒ â”£ ğŸ“‚ messages
â”ƒ â”£ ğŸ“‚ styles
â”ƒ â”£ ğŸ“‚ types
â”ƒ â”— ğŸ“‚ utils
```

## Mais sobre

A estrutura segue o padrÃ£o do Next.js App Router com algumas adaptaÃ§Ãµes:

- **`[locale]`**: Roteamento internacionalizado
- **`blog/[slug]`**: PÃ¡ginas dinÃ¢micas para posts
- **`components`**: Componentes reutilizÃ¡veis
- **`content`**: ConteÃºdo MDX organizado por idioma
- **`i18n`**: ConfiguraÃ§Ãµes de internacionalizaÃ§Ã£o
- **`messages`**: TraduÃ§Ãµes em JSON

Cada componente tem seu prÃ³prio diretÃ³rio com arquivos de teste, facilitando a
manutenÃ§Ã£o e testes.

---

# ConclusÃ£o

Estas decisÃµes arquiteturais formam a base sÃ³lida do gabrielduete.com,
priorizando:

1. **Performance**: Next.js + Vercel + TailwindCSS
2. **Qualidade**: Jest + ESLint + Prettier + Sentry + Codecov
3. **ExperiÃªncia**: React + TypeScript + i18n
4. **AutomaÃ§Ã£o**: GitHub Actions + CI/CD
5. **Monitoramento**: Sentry + Microsoft Clarity
6. **Analytics**: Microsoft Clarity para insights de usuÃ¡rio
7. **OrganizaÃ§Ã£o**: GitHub Projects para gerenciamento de tarefas
8. **I.A**: GitHub Copilot + Cursor para IA assistida
9. **Estrutura**: OrganizaÃ§Ã£o clara de pastas e componentes

Consegui notas excelentes no lighthouse, com exceÃ§Ã£o do best patrices, que
perdeu uns pontos por causa do Clarity. :noo:

Performance na home + click em artigo:
![Resultados do Lighthouse - Performance e SEO](/assets/images/blog/architecture-decisions/lighthouse-1.png)

Resultados gerais na home:
![Resultados do Lighthouse - Performance e SEO](/assets/images/blog/architecture-decisions/lighthouse-3.png)

Resultados de uma pÃ¡gina de post:
![Resultados do Lighthouse - Acessibilidade e Best Practices](/assets/images/blog/architecture-decisions/lighthouse-2.png)

Cada ADR documenta nÃ£o apenas a decisÃ£o tomada, mas tambÃ©m o contexto,
alternativas consideradas e mais algo sobre, facilitando futuras revisÃµes,
evoluÃ§Ãµes da arquitetura, e o entendimento de quem queira saber mais sobre o
projeto.
