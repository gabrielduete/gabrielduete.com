---
title:
  'Dominando Compound Components: Construindo Componentes Reutiliz√°veis e
  Flex√≠veis em React'
description:
  'Aprenda como usar o padr√£o de Compound Components no React para construir
  componentes flex√≠veis, escal√°veis e reutiliz√°veis. Entenda como compartilhar
  l√≥gica entre componentes relacionados com exemplos pr√°ticos como modais,
  acorde√µes e menus.'
date: '09-11-2024'
category: 'Front-end'
tags: ['next.js', 'react', 'patterns']
---

# Introdu√ß√£o

Um dos conceitos mais √∫teis e amplamente utilizados no mundo do React s√£o os
**design patterns**, pois ajudam a manter o c√≥digo escal√°vel e d√£o mais
significado aos componentes que criamos.

Existem v√°rios padr√µes, e neste artigo vamos falar sobre **Compound
Components**, um padr√£o avan√ßado que √© especialmente √∫til para criar interfaces
flex√≠veis e compostas.

# O que s√£o Compound Components?

**Compound Components** √© um padr√£o avan√ßado no React. Seu objetivo √© criar um
design mais flex√≠vel, permitindo o compartilhamento de estado e l√≥gica entre um
grupo de componentes. Assim, √© poss√≠vel realizar a comunica√ß√£o entre o
componente pai e os componentes filhos de maneira mais fluida.

Esses componentes trabalham juntos para atingir certos comportamentos sem criar
√°rvores de props complexas ou l√≥gicas dif√≠ceis de entender e refatorar no
futuro.

Esse padr√£o ajuda a eliminar o **prop drilling**, que √© quando passamos muitas
props atrav√©s de v√°rios n√≠veis de componentes. O prop drilling pode causar
problemas, como renderiza√ß√µes desnecess√°rias toda vez que o estado for
atualizado, j√° que cada altera√ß√£o de estado impacta todos os componentes filhos.

Um exemplo claro de Compound Components pode ser observado na estrutura HTML de
`select` e `option`:

![Exemplo de tags select e option no HTML](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1yjykolwr98hxb2xwmf2.png)

O elemento `select` funciona como o gerenciador de estado da interface, enquanto
os elementos `option` configuram o funcionamento do `select`.

# Exemplo Usando Compound Components

Neste exemplo, vamos criar um `Modal`, que ser√° dividido em dois componentes
compostos: `Toggle` e `Content`. Eles ir√£o compartilhar o estado de abrir/fechar
do modal.

Vamos ver como criar esse componente passo a passo:

Primeiro, criamos o contexto que vai gerenciar o estado de abrir/fechar do
modal:

![Contexto do componente modal](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/98nmutvnysllb2gtlvkk.png)

Depois, criamos a base do componente Modal:

![Base do componente modal](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rwgum0ljtz6amax6bv9u.png)

Note que estamos usando `children` para capturar os componentes que ser√£o
colocados dentro do Modal. Queremos us√°-lo desta forma:

![Exemplo de como o componente ser√° utilizado](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/3pywyv641pt9eqkxk6vd.png)

Agora precisamos criar o componente `Toggle`, que ser√° respons√°vel por abrir o
Modal:

![Componente Toggle](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/hihluw65x96i2ej5rewd.png)

Tamb√©m precisamos de um componente `Content`, respons√°vel por exibir o conte√∫do
do Modal:

![Componente Content](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zh70d75ovuabmk6wgzxl.png)

Por fim, podemos adicionar os dois componentes ao nosso componente Modal, e ele
est√° pronto! üòä

![Usando os outros componentes dentro do componente Modal](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/pu4ll3u2len5asysjper.png)

Uso:

![Exemplo de uso do componente modal](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/yxulwjh7h22g723a11ru.png)

Resultado:

![Resultado visual do funcionamento do componente](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/9j8d40ids8i8iifbdp5t.gif)

Dessa forma, tornamos a cria√ß√£o e o uso de modais extremamente flex√≠vel e
reutiliz√°vel. `Modal.Toggle` √© respons√°vel por acionar a exibi√ß√£o do modal,
enquanto `Modal.Content` exibe o conte√∫do.

Essa estrutura permite que os desenvolvedores personalizem facilmente o
comportamento e conte√∫do dos modais conforme as necessidades espec√≠ficas de suas
aplica√ß√µes, tornando o c√≥digo mais limpo e organizado.

## Outros Exemplos

Tamb√©m podemos usar Compound Components em outros contextos, como:

Componentes de Acorde√£o:

![Exemplo de componente acorde√£o com compound components](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/lxnk77ej4kj1d8ha3k4d.png)

Componentes de Menu:

![Exemplo de componente menu com compound components](https://dev-to-uploads.s3.amazonaws.com/uploads/articles/g47w6mcvosew2alrhk5k.png)

Todos esses exemplos s√£o flex√≠veis e adapt√°veis, facilitando o desenvolvimento,
a escalabilidade e o uso dos componentes.

## Exerc√≠cio

Percebemos que o bot√£o de fechar estava dentro do componente `Content`, mas
seria interessante termos um componente dedicado para gerenciar o fechamento do
modal. Voc√™ poderia criar algo como `<Modal.Close>Fechar</Modal.Close>`. Tente
experimentar e adicionar esse componente tamb√©m!

# Conclus√£o

Vimos como escrever componentes utilizando o padr√£o de **Compound Components**
pode ser √∫til em nossas aplica√ß√µes. Exploramos como implement√°-lo e vimos
exemplos de onde esse padr√£o pode se encaixar.

Sinta-se √† vontade para explorar e experimentar criar componentes com Compound
Components. Use com sabedoria e avalie se faz sentido aplicar no seu contexto,
pois se n√£o for bem implementado, pode acabar sendo mais um obst√°culo do que uma
ajuda.

_Note: Eu postei esse mesmo conte√∫do no
[react4noobs](https://github.com/he4rt/react4noobs), um reposit√≥rio brasileiro
que re√∫ne artigos criados por desenvolvedores da comunidade React. Vale a pena
conferir!_
